name: Build Workflow
on:
  push:
    branches:
      - main
jobs:
  build:
   runs-on: ubuntu-latest
   steps:
    - name: Checkout repository
      uses: actions/checkout@v2
    - name: Read file content
      id: read-qa-file
      run: |
        FILE_CONTENT=$(cat qa.txt)
        echo "$FILE_CONTENT"
        if [ "$FILE_CONTENT" == "true" ]; then
          echo "::set-output name=build-qa::true"
        else
          echo "::set-output name=build-qa::false"
        fi
    - name: release_qa
      if: ${{ steps.read-qa-file.outputs.build-qa == 'true' }}
      run: |
        echo Add other actions to build,
        echo test, and deploy your project. 
        echo steps.read-qa-file.outputs.content
        pwd
        go build
        go run .
